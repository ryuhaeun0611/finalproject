import streamlit as st

st.set_page_config(
    page_title="숲가꾸기와 산불 피해",
    layout="wide"
)

st.title("🌲 숲가꾸기 활동이 산불 피해에 미치는 영향")

st.markdown("""
## 1. 문제의식

한국 산림 정책에서 **‘숲가꾸기(하층식생 제거, 솎아베기, 조림 등)’**는  
오랫동안 *산불 예방과 임업 생산성 향상에 도움이 된다*는 전제 아래 추진되어 왔습니다.

하지만 최근 연구들에서는 오히려 다음과 같은 결과들이 나타납니다.

- **경북 전체 1km 격자 분석(로지스틱 회귀)**  
  - 숲가꾸기·조림 비율이 높은 격자일수록 **산불 발생 확률이 유의하게 증가**
  - 침엽수 비율, 임분 밀도 역시 산불 발생에 **정(+)의 영향**
  - 상대습도는 **음(-)의 영향** (습할수록 안전)

- **2023년 강릉 난곡동 대형산불 사례 분석**  
  - 전국 최고 수준의 도로·임도 밀도(접근성)에도 불구하고  
    **모든 산림 패치가 불탐**
  - 산불 확산은 도로·임도보다 **강풍·지형·비산거리**에 의해 결정

즉,

> “숲가꾸기와 도로 확충이 산불 예방과 진화에 도움이 된다”는 직관이  
> 실제 데이터에서는 뚜렷하게 지지되지 않는다.

---

## 2. 메커니즘: 왜 숲가꾸기가 산불에 취약한 구조를 만들까?

### 1) 하층식생 제거 → 습기 완충장치 상실

- 기존의 **활엽수 하층식생, 관목, 초본층**은
  - 토양 수분을 붙잡고,
  - 숲 내부 미기후(그늘, 습도)를 유지하며,
  - 연료가 너무 균질하게 연결되지 않도록 완충 역할을 합니다.
- 숲가꾸기 작업으로 이 층이 제거되면:
  - 햇빛·바람이 지면까지 직접 도달
  - 토양과 낙엽층이 빠르게 건조
  - **습기 완충장치가 사라져** 발화·확산이 쉬워집니다.

이를 단순화하면 다음과 같은 경로로 볼 수 있습니다.

> 숲가꾸기(하층식생 제거)  
> → 숲 내부 습도 감소(understory moisture 감소)  
> → 발화·확산 가능성 증가  
> → 산불 피해 증가

---

### 2) 침엽수 편중 + 높은 임분 밀도

- 침엽수(소나무, 리기다, 침엽조림지 등)는
  - 수지가 많고,
  - 수관이 연속적으로 연결되어 있으며,
  - 가연성 기름막(needle litter)을 두텁게 형성합니다.
- 이 상태에서 **간벌은 했지만 충분한 구조 전환(혼효림화, 수관단절 등)이 이루어지지 않으면**  
  → 오히려 **잘 마르고 잘 타는 균질한 연료층**이 만들어집니다.

---

### 3) 임도·도로 확대의 한계

연구 결과에 따르면:

- 임도 접근성(도로까지의 거리)은 **산불 발생 확률과 유의한 관계 없음**
- 강릉 사례에서, **폭이 넓은 도로·하천·제방조차 비산에 의해 쉽게 넘어감**
- 즉, 임도는
  - 산불을 “물리적으로 차단하는 방화선”도 아니고,
  - 대형산불 상황에서 “결정적인 진화 효율성 향상”도 보이지 않음

---

## 3. 이 앱에서 보고자 하는 것

이 앱의 각 페이지는 다음을 보여줍니다.

1. **[현재 페이지] 개념 설명**  
   - 왜 숲가꾸기가 산불에 취약한 구조를 만들 수 있는지,  
     메커니즘과 연구 결과의 흐름을 정리합니다.

2. **[다음 페이지] 시뮬레이션**  
   - 가상의 데이터를 사용하여  
     - 숲가꾸기 밀도, 침엽수 비율, 임분 밀도, 습도, 경사도 등이  
       산불 피해에 어떤 방향으로 영향을 미치는지를 시각적으로 탐색합니다.
   - 특히,
     - `forest_care_density ↑ → fire_damage_area ↑`  
     - `humidity ↑ → fire_damage_area ↓`
     를 SHAP와 회귀선을 통해 확인합니다.

3. **[세 번째 페이지] 지역별 클러스터링**  
   - 전처리한 `region_df.csv`를 업로드하면,
   - **표준화된 다변량 특성(숲가꾸기 강도, 피해규모, 임도 연장 등)** 을 기준으로
   - 비슷한 구조를 가진 지역끼리 클러스터링합니다.
   - 이를 통해,
     - “숲가꾸기가 강하고 피해도 큰 고위험군 지역”
     - “숲가꾸기는 적지만 피해가 큰 예외적 지역”
     - “둘 다 낮은 저위험군 지역”
     등을 시각적으로 구분할 수 있습니다.

---

이제 왼쪽 사이드바의 **Pages** 메뉴에서

- **② 산불 피해 시뮬레이션**
- **③ 지역별 산불 피해 클러스터링**

을 순서대로 눌러보시면 됩니다.
""")
